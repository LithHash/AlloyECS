"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[844],{5004:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/prefabs","title":"Prefabs","description":"Prefabs are templates for creating entities with predefined components. They\'re perfect for spawning enemies, items, projectiles, and other game objects.","source":"@site/docs/guides/prefabs.md","sourceDirName":"guides","slug":"/guides/prefabs","permalink":"/AlloyECS/docs/guides/prefabs","draft":false,"unlisted":false,"editUrl":"https://github.com/lithh/AlloyECS/edit/main/docs/guides/prefabs.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"defaultSidebar","previous":{"title":"Relationships","permalink":"/AlloyECS/docs/guides/relationships"},"next":{"title":"Deferred Operations","permalink":"/AlloyECS/docs/guides/deferred-operations"}}');var a=n(4848),t=n(8453);const l={sidebar_position:5},o="Prefabs",s={},c=[{value:"Creating Prefabs",id:"creating-prefabs",level:2},{value:"Named Prefabs",id:"named-prefabs",level:3},{value:"Spawning from Prefabs",id:"spawning-from-prefabs",level:2},{value:"From Prefab Object",id:"from-prefab-object",level:3},{value:"From Name",id:"from-name",level:3},{value:"Customizing After Spawn",id:"customizing-after-spawn",level:2},{value:"Retrieving Prefabs",id:"retrieving-prefabs",level:2},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Enemy Types",id:"enemy-types",level:3},{value:"Item System",id:"item-system",level:3},{value:"Projectiles",id:"projectiles",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Descriptive Names",id:"1-use-descriptive-names",level:3},{value:"2. Create Prefabs at Startup",id:"2-create-prefabs-at-startup",level:3},{value:"3. Keep Prefabs Generic",id:"3-keep-prefabs-generic",level:3}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"prefabs",children:"Prefabs"})}),"\n",(0,a.jsx)(r.p,{children:"Prefabs are templates for creating entities with predefined components. They're perfect for spawning enemies, items, projectiles, and other game objects."}),"\n",(0,a.jsx)(r.h2,{id:"creating-prefabs",children:"Creating Prefabs"}),"\n",(0,a.jsx)(r.p,{children:"Use the builder pattern to define a prefab:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:"local enemyPrefab = world:prefab()\r\n    :with(Health, 100)\r\n    :with(Position, Vector3.zero)\r\n    :with(Damage, 10)\r\n    :with(Enemy)  -- Tag (no value needed)\r\n    :build()\n"})}),"\n",(0,a.jsx)(r.h3,{id:"named-prefabs",children:"Named Prefabs"}),"\n",(0,a.jsx)(r.p,{children:"Register prefabs by name for easy access:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'world:prefab()\r\n    :with(Health, 100)\r\n    :with(Position, Vector3.zero)\r\n    :with(Enemy)\r\n    :build("BasicEnemy")\r\n\r\nworld:prefab()\r\n    :with(Health, 500)\r\n    :with(Position, Vector3.zero)\r\n    :with(Damage, 50)\r\n    :with(Enemy)\r\n    :with(Boss)\r\n    :build("BossEnemy")\n'})}),"\n",(0,a.jsx)(r.h2,{id:"spawning-from-prefabs",children:"Spawning from Prefabs"}),"\n",(0,a.jsx)(r.h3,{id:"from-prefab-object",children:"From Prefab Object"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:"local enemy = world:spawn(enemyPrefab)\n"})}),"\n",(0,a.jsx)(r.h3,{id:"from-name",children:"From Name"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'local enemy = world:spawn("BasicEnemy")\r\nlocal boss = world:spawn("BossEnemy")\n'})}),"\n",(0,a.jsx)(r.h2,{id:"customizing-after-spawn",children:"Customizing After Spawn"}),"\n",(0,a.jsx)(r.p,{children:"Prefabs create the entity with default values. Customize afterward:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'local enemy = world:spawn("BasicEnemy")\r\n\r\n-- Override position\r\nworld:set(enemy, Position, Vector3.new(10, 0, 20))\r\n\r\n-- Add additional components\r\nworld:set(enemy, PatrolPath, { ... })\n'})}),"\n",(0,a.jsx)(r.h2,{id:"retrieving-prefabs",children:"Retrieving Prefabs"}),"\n",(0,a.jsx)(r.p,{children:"Get a registered prefab by name:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'local prefab = world:prefab("BasicEnemy")\n'})}),"\n",(0,a.jsx)(r.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,a.jsx)(r.h3,{id:"enemy-types",children:"Enemy Types"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'-- Components\r\nlocal Health = world:component()\r\nlocal Damage = world:component()\r\nlocal Speed = world:component()\r\nlocal Position = world:component()\r\nlocal Enemy = world:tag()\r\nlocal Flying = world:tag()\r\nlocal Boss = world:tag()\r\n\r\n-- Define enemy prefabs\r\nworld:prefab()\r\n    :with(Health, 50)\r\n    :with(Damage, 5)\r\n    :with(Speed, 10)\r\n    :with(Position, Vector3.zero)\r\n    :with(Enemy)\r\n    :build("Slime")\r\n\r\nworld:prefab()\r\n    :with(Health, 30)\r\n    :with(Damage, 10)\r\n    :with(Speed, 20)\r\n    :with(Position, Vector3.zero)\r\n    :with(Enemy)\r\n    :with(Flying)\r\n    :build("Bat")\r\n\r\nworld:prefab()\r\n    :with(Health, 1000)\r\n    :with(Damage, 50)\r\n    :with(Speed, 5)\r\n    :with(Position, Vector3.zero)\r\n    :with(Enemy)\r\n    :with(Boss)\r\n    :build("Dragon")\r\n\r\n-- Spawn enemies\r\nlocal function spawnEnemy(enemyType, position)\r\n    local enemy = world:spawn(enemyType)\r\n    world:set(enemy, Position, position)\r\n    return enemy\r\nend\r\n\r\nspawnEnemy("Slime", Vector3.new(10, 0, 10))\r\nspawnEnemy("Bat", Vector3.new(0, 10, 0))\r\nspawnEnemy("Dragon", Vector3.new(100, 0, 100))\n'})}),"\n",(0,a.jsx)(r.h3,{id:"item-system",children:"Item System"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'local Name = world:component()\r\nlocal Value = world:component()\r\nlocal Stackable = world:tag()\r\nlocal Consumable = world:tag()\r\nlocal Equipment = world:tag()\r\n\r\n-- Consumables\r\nworld:prefab()\r\n    :with(Name, "Health Potion")\r\n    :with(Value, 50)\r\n    :with(Stackable)\r\n    :with(Consumable)\r\n    :build("HealthPotion")\r\n\r\nworld:prefab()\r\n    :with(Name, "Mana Potion")\r\n    :with(Value, 30)\r\n    :with(Stackable)\r\n    :with(Consumable)\r\n    :build("ManaPotion")\r\n\r\n-- Equipment\r\nworld:prefab()\r\n    :with(Name, "Iron Sword")\r\n    :with(Damage, 15)\r\n    :with(Equipment)\r\n    :build("IronSword")\n'})}),"\n",(0,a.jsx)(r.h3,{id:"projectiles",children:"Projectiles"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'local Velocity = world:component()\r\nlocal Lifetime = world:component()\r\nlocal Projectile = world:tag()\r\n\r\nworld:prefab()\r\n    :with(Position, Vector3.zero)\r\n    :with(Velocity, Vector3.zero)\r\n    :with(Damage, 10)\r\n    :with(Lifetime, 5)\r\n    :with(Projectile)\r\n    :build("Arrow")\r\n\r\nworld:prefab()\r\n    :with(Position, Vector3.zero)\r\n    :with(Velocity, Vector3.zero)\r\n    :with(Damage, 30)\r\n    :with(Lifetime, 3)\r\n    :with(Projectile)\r\n    :build("Fireball")\r\n\r\n-- Spawn projectile with direction\r\nlocal function fireProjectile(prefabName, origin, direction, speed)\r\n    local proj = world:spawn(prefabName)\r\n    world:set(proj, Position, origin)\r\n    world:set(proj, Velocity, direction.Unit * speed)\r\n    return proj\r\nend\r\n\r\nfireProjectile("Arrow", playerPos, aimDirection, 100)\n'})}),"\n",(0,a.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsx)(r.h3,{id:"1-use-descriptive-names",children:"1. Use Descriptive Names"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'-- \u2705 Good\r\nworld:prefab():with(...):build("BasicEnemy")\r\nworld:prefab():with(...):build("FireElemental")\r\n\r\n-- \u274c Avoid\r\nworld:prefab():with(...):build("e1")\r\nworld:prefab():with(...):build("enemy")\n'})}),"\n",(0,a.jsx)(r.h3,{id:"2-create-prefabs-at-startup",children:"2. Create Prefabs at Startup"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'-- \u2705 Good - create once at startup\r\nlocal function initPrefabs(world)\r\n    world:prefab():with(...):build("Enemy")\r\n    world:prefab():with(...):build("Item")\r\nend\r\n\r\n-- \u274c Avoid - creating during gameplay\r\nlocal function spawnEnemy()\r\n    world:prefab():with(...):build("Enemy")  -- Recreates each time!\r\n    return world:spawn("Enemy")\r\nend\n'})}),"\n",(0,a.jsx)(r.h3,{id:"3-keep-prefabs-generic",children:"3. Keep Prefabs Generic"}),"\n",(0,a.jsx)(r.p,{children:"Use prefabs for common base values, customize specific instances:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-lua",children:'-- \u2705 Good - generic prefab, specific customization\r\nlocal enemy = world:spawn("Enemy")\r\nworld:set(enemy, Position, spawnPoint)\r\nworld:set(enemy, PatrolPath, specificPath)\r\n\r\n-- \u274c Avoid - overly specific prefabs\r\nworld:prefab()\r\n    :with(Position, Vector3.new(10, 0, 20))  -- Too specific!\r\n    :build("EnemyAtPosition10_0_20")\n'})})]})}function p(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>o});var i=n(6540);const a={},t=i.createContext(a);function l(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);